apiVersion: karpenter.sh/v1alpha5
kind: Provisioner
metadata:
  name: default
spec:
%{ if karpenter_provisioner_node_labels_yaml != ""}
  labels: |
    ${karpenter_provisioner_node_labels_yaml}
%{ endif }
%{ if karpenter_provisioner_node_taints_yaml != ""}
  taints: |
    ${karpenter_provisioner_node_taints_yaml}
%{ endif }
  limits:
    resources:
      cpu: 1k
  providerRef:
    name: default
  requirements: |
    ${karpenter_requirements_yaml}
  ttlSecondsAfterEmpty: 30
